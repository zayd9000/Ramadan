<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erbil Ramadan 2026</title>
    <style>
        :root {
            --navy: #0f172a;
            --card-bg: #1e293b;
            --gold: #fbbf24;
            --text-gray: #94a3b8;
        }

        body { font-family: 'Segoe UI', sans-serif; background: var(--navy); color: white; margin: 0; padding: 15px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 450px; display: flex; flex-direction: column; gap: 15px; }

        .lang-switcher { display: flex; gap: 5px; justify-content: flex-end; }
        .lang-btn { background: #334155; border: none; color: white; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 0.75rem; }
        .lang-btn.active { background: var(--gold); color: black; font-weight: bold; }

        .card { background: var(--card-bg); padding: 20px; border-radius: 20px; border: 1px solid rgba(251, 191, 36, 0.2); }
        .card-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; color: var(--gold); display: flex; align-items: center; gap: 10px; }
        
        .timer-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .clock { font-size: 1.8rem; font-weight: bold; font-family: monospace; }
        .badge { background: var(--gold); color: black; padding: 5px 12px; border-radius: 10px; font-size: 0.85rem; font-weight: bold; }

        .progress-bg { background: #0f172a; height: 12px; border-radius: 6px; overflow: hidden; margin: 12px 0; }
        .progress-fill { background: linear-gradient(90deg, #f59e0b, #fbbf24); height: 100%; width: 0%; transition: 1s; }

        .prayer-auto-list { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .prayer-status { padding: 12px; background: rgba(255,255,255,0.03); border-radius: 10px; font-size: 0.9rem; display: flex; justify-content: space-between; border: 1px solid rgba(255,255,255,0.05); }
        .status-done { color: #22c55e; font-weight: bold; }

        .dua-box { border-left: 3px solid var(--gold); padding-left: 15px; line-height: 1.6; }
        .rtl { direction: rtl; text-align: right; border-left: none; border-right: 3px solid var(--gold); padding-right: 15px; }
    </style>
</head>
<body>

<div class="container">
    <div class="lang-switcher">
        <button class="lang-btn active" onclick="setLang('en')">ENG</button>
        <button class="lang-btn" onclick="setLang('ku')">KUR</button>
        <button class="lang-btn" onclick="setLang('ar')">ARA</button>
    </div>

    <div class="card">
        <div class="timer-row">
            <div id="date-label" style="color: var(--text-gray);">--</div>
            <div id="live-clock" class="clock">00:00:00 PM</div>
        </div>
        <div style="display: flex; gap: 10px;">
            <div id="iftar-timer" class="badge" style="display:none;"></div>
            <div id="countdown-badge" class="badge">--</div>
        </div>
    </div>

    <div class="card">
        <div class="card-title">ğŸ“– <span id="t-quran">Quran Progress</span></div>
        <div style="display: flex; justify-content: space-between;">
            <span id="t-pages">Pages Read</span>
            <span><strong id="pages-count">0</strong> / 604</span>
        </div>
        <div class="progress-bg"><div id="q-bar" class="progress-fill"></div></div>
        <p id="quran-message" style="font-size: 0.75rem; color: var(--gold); margin: 0;"></p>
    </div>

    <div class="card">
        <div class="card-title">âœ… <span id="t-worship">Daily Worship (Auto)</span></div>
        <div class="prayer-auto-list" id="prayer-list"></div>
    </div>

    <div class="card">
        <div class="card-title">âœ¨ Daily Dua | Ø¯ÙˆØ¹Ø§</div>
        <div id="dua-container" class="dua-box">
            <div style="margin-bottom:10px;"><strong>EN:</strong> "O Allah, let us reach Ramadan in peace."</div>
            <div class="rtl" style="margin-bottom:10px;"><strong>KU:</strong> "Ø®ÙˆØ§ÛŒÛ• Ø¨Ù…Ø§Ù†Ú¯Û•ÛŒÛ•Ù†ÛŒØªÛ• Ú•Û•Ù…Û•Ø²Ø§Ù† Ø¨Û• Ø³Û•Ù„Ø§Ù…Û•ØªÛŒ."</div>
            <div class="rtl"><strong>AR:</strong> "Ø§Ù„Ù„Ù‡Ù… Ø¨Ù„ØºÙ†Ø§ Ø±Ù…Ø¶Ø§Ù† ÙˆØ£Ù†Øª Ø±Ø§Ø¶Ù Ø¹Ù†Ø§."</div>
        </div>
    </div>
</div>

<script>
    const ramadanStart = new Date("2026-02-18T00:00:00");
    let currentLang = 'en';

    const translations = {
        en: { quran: "Quran Progress", pages: "Pages Read", worship: "Daily Worship (Auto)", done: "Done", countdown: "Days to Ramadan", fasting: "Day of Fasting", startSoon: "Tracking starts on Day 1" },
        ku: { quran: "Ù¾ÛØ´Ú©Û•ÙˆØªÙ†ÛŒ Ù‚ÙˆØ±Ø¦Ø§Ù†", pages: "Ù„Ø§Ù¾Û•Ú•Û•Ú©Ø§Ù†", worship: "Ø¹ÛŒØ¨Ø§Ø¯Û•Øª (Ø®Û†Ú©Ø§Ø±)", done: "ØªÛ•ÙˆØ§Ùˆ", countdown: "Ú•Û†Ú˜ Ø¨Û† Ú•Û•Ù…Û•Ø²Ø§Ù†", fasting: "Ú•Û†Ú˜ÛŒ Ø¨Û•Ú•Û†Ú˜ÙˆÙˆ", startSoon: "Ù„Û• Ú•Û†Ú˜ÛŒ Ù¡ Ø¯Û•Ø³ØªÙ¾ÛØ¯Û•Ú©Ø§Øª" },
        ar: { quran: "Ø®ØªÙ… Ø§Ù„Ù‚Ø±Ø¢Ù†", pages: "Ø§Ù„ØµÙØ­Ø§Øª", worship: "Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø§Øª (ØªÙ„Ù‚Ø§Ø¦ÙŠ)", done: "ØªÙ…", countdown: "ÙŠÙˆÙ… Ù„Ø±Ù…Ø¶Ø§Ù†", fasting: "Ø£ÙŠØ§Ù… Ø§Ù„ØµÙŠØ§Ù…", startSoon: "ÙŠØ¨Ø¯Ø£ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„" }
    };

    const prayers = [
        { id: 'fajr', name: { en: 'Fajr', ku: 'Ø¨Û•ÛŒØ§Ù†ÛŒ', ar: 'Ø§Ù„ÙØ¬Ø±' }, time: "05:22 AM", military: "05:22" },
        { id: 'dhuhr', name: { en: 'Dhuhr', ku: 'Ù†ÛŒÙˆÛ•Ú•Û†', ar: 'Ø§Ù„Ø¸Ù‡Ø±' }, time: "12:18 PM", military: "12:18" },
        { id: 'asr', name: { en: 'Asr', ku: 'Ø¹Û•Ø³Ø±', ar: 'Ø§Ù„Ø¹ØµØ±' }, time: "03:14 PM", military: "15:14" },
        { id: 'maghrib', name: { en: 'Maghrib', ku: 'Ø¦ÛÙˆØ§Ø±Û•', ar: 'Ø§Ù„Ù…ØºØ±Ø¨' }, time: "05:48 PM", military: "17:48" },
        { id: 'isha', name: { en: 'Isha', ku: 'Ø®Û•ÙˆØªÙ†Ø§Ù†', ar: 'Ø§Ù„Ø¹Ø´Ø§Ø¡' }, time: "07:04 PM", military: "19:04" }
    ];

    function update() {
        const now = new Date();
        
        // 12-Hour Clock
        document.getElementById('live-clock').innerText = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
        document.getElementById('date-label').innerText = now.toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' });

        const milTime = now.getHours().toString().padStart(2, '0') + ":" + now.getMinutes().toString().padStart(2, '0');
        const diffMs = ramadanStart - now;
        const diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
        const isRamadan = diffMs <= 0;

        const countBadge = document.getElementById('countdown-badge');
        const iftarBadge = document.getElementById('iftar-timer');
        const qMsg = document.getElementById('quran-message');

        if (!isRamadan) {
            countBadge.innerText = `${diffDays} ${translations[currentLang].countdown}`;
            iftarBadge.style.display = "none";
            qMsg.innerText = translations[currentLang].startSoon;
        } else {
            const dayNum = Math.floor(Math.abs(diffMs) / (1000 * 60 * 60 * 24)) + 1;
            countBadge.innerText = `${translations[currentLang].fasting} ${dayNum}`;
            iftarBadge.style.display = "block";
            qMsg.innerText = "";

            // Iftar Countdown logic
            const [cH, cM] = [now.getHours(), now.getMinutes()];
            const minsToIftar = (17 * 60 + 48) - (cH * 60 + cM);
            if (minsToIftar > 0) {
                iftarBadge.innerText = `â³ Iftar in ${Math.floor(minsToIftar/60)}h ${minsToIftar%60}m`;
            } else {
                iftarBadge.innerText = "ğŸ½ï¸ Iftar Time!";
            }
        }

        // Worship & Quran
        let pagesToday = 0;
        const list = document.getElementById('prayer-list');
        list.innerHTML = '';

        prayers.forEach(p => {
            const done = milTime >= p.military;
            if (isRamadan && done) pagesToday += 4;
            
            list.innerHTML += `<div class="prayer-status">
                <span>${p.name[currentLang]}</span>
                <span class="${done ? 'status-done' : ''}">${done ? translations[currentLang].done : p.time}</span>
            </div>`;
        });

        const totalPages = isRamadan ? ((Math.floor(Math.abs(diffMs) / (1000 * 60 * 60 * 24))) * 20) + pagesToday : 0;
        document.getElementById('pages-count').innerText = Math.min(totalPages, 604);
        document.getElementById('q-bar').style.width = (Math.min(totalPages, 604) / 604 * 100) + '%';
    }

    function setLang(lang) {
        currentLang = lang;
        document.querySelectorAll('.lang-btn').forEach((b, i) => {
            b.classList.toggle('active', (lang === 'en' && i === 0) || (lang === 'ku' && i === 1) || (lang === 'ar' && i === 2));
        });
        document.getElementById('t-quran').innerText = translations[lang].quran;
        document.getElementById('t-pages').innerText = translations[lang].pages;
        document.getElementById('t-worship').innerText = translations[lang].worship;
        update();
    }

    setInterval(update, 1000);
    update();
</script>
</body>
</html>
