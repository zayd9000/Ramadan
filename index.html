<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erbil Ramadan 2026</title>
    <style>
        :root {
            --navy: #0f172a;
            --card-bg: #1e293b;
            --gold: #fbbf24;
            --text-gray: #94a3b8;
        }

        body { font-family: 'Segoe UI', sans-serif; background: var(--navy); color: white; margin: 0; padding: 15px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 450px; display: flex; flex-direction: column; gap: 15px; }

        .lang-switcher { display: flex; gap: 5px; justify-content: flex-end; margin-bottom: 5px; }
        .lang-btn { background: #334155; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.7rem; }
        .lang-btn.active { background: var(--gold); color: black; }

        .card { background: var(--card-bg); padding: 20px; border-radius: 15px; border: 1px solid rgba(251, 191, 36, 0.2); }
        .card-title { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; color: var(--gold); }
        
        .timer-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .clock { font-size: 1.8rem; font-weight: bold; font-family: monospace; }
        .badge { background: var(--gold); color: black; padding: 4px 10px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; }

        .progress-bg { background: #334155; height: 10px; border-radius: 5px; overflow: hidden; margin: 10px 0; }
        .progress-fill { background: var(--gold); height: 100%; width: 0%; transition: 0.8s ease; }

        .prayer-auto-list { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .prayer-status { padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; font-size: 0.9rem; display: flex; justify-content: space-between; }
        .status-done { color: #22c55e; font-weight: bold; }
        .status-wait { color: var(--text-gray); }

        .dua-box { border-left: 3px solid var(--gold); padding-left: 12px; line-height: 1.4; }
        .dua-lang { display: block; margin-bottom: 8px; font-size: 0.9rem; }
        .rtl { direction: rtl; text-align: right; border-left: none; border-right: 3px solid var(--gold); padding-left: 0; padding-right: 12px; }
    </style>
</head>
<body>

<div class="container">
    <div class="lang-switcher">
        <button class="lang-btn active" onclick="setLang('en')">ENG</button>
        <button class="lang-btn" onclick="setLang('ku')">KUR</button>
        <button class="lang-btn" onclick="setLang('ar')">ARA</button>
    </div>

    <div class="card">
        <div class="timer-row">
            <div id="date-label">Sunday, Feb 8</div>
            <div id="live-clock" class="clock">00:00:00</div>
        </div>
        <div style="display: flex; gap: 10px;">
            <div id="iftar-timer" class="badge">--:--</div>
            <div id="day-counter" class="badge" style="background: rgba(255,255,255,0.1); color: white;">10 Days Left</div>
        </div>
    </div>

    <div class="card">
        <div class="card-title" id="t-quran">Quran Progress</div>
        <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
            <span id="t-pages">Pages Read</span>
            <span><strong id="pages-count">0</strong> / 604</span>
        </div>
        <div class="progress-bg"><div id="q-bar" class="progress-fill"></div></div>
        <p style="font-size: 0.75rem; color: var(--text-gray);" id="t-quran-note">*Progress updates based on completed prayers.</p>
    </div>

    <div class="card">
        <div class="card-title" id="t-worship">Daily Worship (Auto)</div>
        <div class="prayer-auto-list" id="prayer-list">
            </div>
    </div>

    <div class="card">
        <div class="card-title">✨ Daily Dua</div>
        <div class="dua-box">
            <span class="dua-lang"><strong>EN:</strong> "O Allah, let us reach Ramadan in peace."</span>
            <span class="dua-lang rtl"><strong>KU:</strong> "خوایە بمانگەیەنیتە ڕەمەزان بە سەلامەتی."</span>
            <span class="dua-lang rtl"><strong>AR:</strong> "اللهم بلغنا رمضان في أحسن حال."</span>
        </div>
    </div>
</div>

<script>
    const translations = {
        en: { quran: "Quran Progress", pages: "Pages Read", worship: "Daily Worship (Auto)", note: "*Linked to prayers", done: "Done", wait: "Pending" },
        ku: { quran: "بەرەوپێشچوونی قورئان", pages: "لاپەڕە خوێندراوەکان", worship: "عیبادەتی ڕۆژانە", note: "*بەپێی نوێژەکان", done: "تەواو", wait: "چاوەڕوان" },
        ar: { quran: "تطور القرآن", pages: "الصفحات المقروءة", worship: "العبادات اليومية", note: "*مرتبط بالصلوات", done: "تم", wait: "قيد الانتظار" }
    };

    const prayerTimes = [
        { id: 'fajr', name: { en: 'Fajr', ku: 'بەیانی', ar: 'الفجر' }, time: "05:22", pages: 4 },
        { id: 'dhuhr', name: { en: 'Dhuhr', ku: 'نیوەڕۆ', ar: 'الظهر' }, time: "12:18", pages: 4 },
        { id: 'asr', name: { en: 'Asr', ku: 'عەسر', ar: 'العصر' }, time: "15:14", pages: 4 },
        { id: 'maghrib', name: { en: 'Maghrib', ku: 'ئێوارە', ar: 'المغرب' }, time: "17:48", pages: 4 },
        { id: 'isha', name: { en: 'Isha', ku: 'خەوتنان', ar: 'العشاء' }, time: "19:04", pages: 4 }
    ];

    let currentLang = 'en';

    function updateApp() {
        const now = new Date();
        const timeStr = now.toLocaleTimeString('en-GB', { hour12: false });
        const shortTime = timeStr.substring(0, 5);
        
        document.getElementById('live-clock').innerText = timeStr;
        
        // Ramadan Countdown
        const start = new Date("2026-02-18T00:00:00");
        const diff = Math.ceil((start - now) / (1000 * 60 * 60 * 24));
        document.getElementById('day-counter').innerText = diff > 0 ? `${diff} Days Left` : `Day ${Math.abs(diff)+1} of Fasting`;

        // Render Prayers & Calculate Quran
        let totalPages = 0;
        const list = document.getElementById('prayer-list');
        list.innerHTML = '';

        prayerTimes.forEach(p => {
            const isDone = shortTime >= p.time;
            if (isDone) totalPages += p.pages;
            
            const item = document.createElement('div');
            item.className = 'prayer-status';
            item.innerHTML = `
                <span>${p.name[currentLang]}</span>
                <span class="${isDone ? 'status-done' : 'status-wait'}">${isDone ? translations[currentLang].done : p.time}</span>
            `;
            list.appendChild(item);
        });

        // Update Progress Bar
        document.getElementById('pages-count').innerText = totalPages;
        document.getElementById('q-bar').style.width = (totalPages / 604 * 100) + '%';
    }

    function setLang(lang) {
        currentLang = lang;
        document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        
        document.getElementById('t-quran').innerText = translations[lang].quran;
        document.getElementById('t-pages').innerText = translations[lang].pages;
        document.getElementById('t-worship').innerText = translations[lang].worship;
        document.getElementById('t-quran-note').innerText = translations[lang].note;
        updateApp();
    }

    setInterval(updateApp, 1000);
    updateApp();
</script>
</body>
</html>
