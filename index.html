<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erbil Ramadan Companion 2026</title>
    <style>
        :root { --gold: #D4AF37; --navy: #0A192F; --dark-card: #112240; --text: #E6F1FF; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: var(--navy); color: var(--text); padding: 20px; display: flex; flex-direction: column; align-items: center; transition: all 0.3s; }
        .card { background: var(--dark-card); padding: 20px; border-radius: 15px; width: 100%; max-width: 500px; margin-bottom: 20px; border-top: 4px solid var(--gold); box-shadow: 0 10px 30px rgba(0,0,0,0.4); }
        
        /* Language Bar with Flags */
        .lang-bar { margin-bottom: 25px; display: flex; gap: 10px; justify-content: center; }
        .lang-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid var(--gold); color: var(--gold); padding: 8px 14px; border-radius: 25px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: bold; }
        .lang-btn.active { background: var(--gold); color: var(--navy); }
        .flag-icon { width: 22px; height: 14px; border-radius: 2px; object-fit: cover; }

        .rtl { direction: rtl; text-align: right; }
        .ltr { direction: ltr; text-align: left; }
        
        /* Quran & Fasting Grid */
        .fasting-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; }
        .day-box { aspect-ratio: 1; border: 1px solid #233554; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.9rem; }
        .day-box.completed { background: var(--gold); color: var(--navy); font-weight: bold; }
        
        .progress-container { background: #233554; border-radius: 10px; height: 12px; margin: 15px 0; overflow: hidden; }
        .progress-bar { background: var(--gold); height: 100%; width: 0%; transition: width 0.4s; }
        
        .check-group { display: flex; justify-content: space-between; text-align: center; font-size: 0.75rem; margin-top: 15px; }
        input[type="number"] { background: transparent; border: 1px solid var(--gold); color: white; padding: 5px; border-radius: 5px; width: 60px; text-align: center; }
        .dua-text { font-style: italic; border-left: 3px solid var(--gold); padding-left: 15px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="lang-bar">
        <button class="lang-btn active" id="btn-en" onclick="setLang('en')"><img src="https://flagcdn.com/w40/us.png" class="flag-icon"> EN</button>
        <button class="lang-btn" id="btn-ar" onclick="setLang('ar')"><img src="https://flagcdn.com/w40/iq.png" class="flag-icon"> Ø¹Ø±Ø¨ÙŠ</button>
        <button class="lang-btn" id="btn-ku" onclick="setLang('ku')"><img src="https://upload.wikimedia.org/wikipedia/commons/3/35/Flag_of_Kurdistan.svg" class="flag-icon"> Ú©ÙˆØ±Ø¯ÛŒ</button>
    </div>

    <h1 id="main-title" style="color: var(--gold); text-align: center;">ðŸŒ™ Erbil Ramadan 2026</h1>

    <div class="card">
        <h2 id="h-dua">Dua of the Moment</h2>
        <div class="dua-text">
            <span id="dua-arabic" style="display:block; font-size: 1.2rem; margin-bottom: 5px; font-style: normal;"></span>
            <span id="dua-translation"></span>
        </div>
    </div>

    <div class="card">
        <h2 id="h-times">Erbil Schedule</h2>
        <div style="display: flex; justify-content: space-around; text-align: center;">
            <div><small id="l-suhoor">Suhoor Ends</small><br><strong style="font-size: 1.2rem; color: var(--gold);">05:22 AM</strong></div>
            <div style="border-left: 1px solid #233554;"></div>
            <div><small id="l-iftar">Iftar (Maghrib)</small><br><strong style="font-size: 1.2rem; color: var(--gold);">05:48 PM</strong></div>
        </div>
    </div>

    <div class="card">
        <h2 id="h-quran">Quran Progress</h2>
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <span id="l-page">Current Page</span>
            <input type="number" id="curPage" value="0" oninput="saveData()">
        </div>
        <div class="progress-container"><div id="qBar" class="progress-bar"></div></div>
        
        <div class="check-group">
            <div><input type="checkbox" class="q-chk" onchange="saveData()"><br><span class="p-name">Fajr</span></div>
            <div><input type="checkbox" class="q-chk" onchange="saveData()"><br><span class="p-name">Dhuhr</span></div>
            <div><input type="checkbox" class="q-chk" onchange="saveData()"><br><span class="p-name">Asr</span></div>
            <div><input type="checkbox" class="q-chk" onchange="saveData()"><br><span class="p-name">Maghrib</span></div>
            <div><input type="checkbox" class="q-chk" onchange="saveData()"><br><span class="p-name">Isha</span></div>
        </div>
    </div>

    <div class="card">
        <h2 id="h-fast">Fasting Journal</h2>
        <div class="fasting-grid" id="fastingGrid"></div>
        <p style="text-align: right; font-size: 0.9rem; margin-top: 10px; color: var(--gold);" id="fastingStat">0/30</p>
    </div>

    <script>
        const translations = {
            en: { 
                title: "ðŸŒ™ Erbil Ramadan 2026", dua: "Dua of the Moment", times: "Erbil Schedule", suhoor: "Suhoor Ends", iftar: "Iftar (Maghrib)", quran: "Quran Progress", page: "Current Page", fast: "Fasting Journal",
                prayers: ["Fajr", "Dhuhr", "Asr", "Maghrib", "Isha"],
                duaA: "Ø°ÙŽÙ‡ÙŽØ¨ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ù…ÙŽØ£Ù ÙˆÙŽØ§Ø¨Ù’ØªÙŽÙ„ÙŽÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù ÙˆÙŽØ«ÙŽØ¨ÙŽØªÙŽ Ø§Ù„Ø£ÙŽØ¬Ù’Ø±Ù Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù",
                duaT: "The thirst has gone, the veins are moistened, and reward is confirmed, if Allah wills."
            },
            ar: { 
                title: "ðŸŒ™ Ø±Ù…Ø¶Ø§Ù† Ø£Ø±Ø¨ÙŠÙ„ Ù¢Ù Ù¢Ù¦", dua: "Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù„Ø­Ø¸Ø©", times: "Ù…ÙˆØ§Ù‚ÙŠØª Ø£Ø±Ø¨ÙŠÙ„", suhoor: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ø­ÙˆØ±", iftar: "Ø§Ù„Ø¥ÙØ·Ø§Ø± (Ø§Ù„Ù…ØºØ±Ø¨)", quran: "Ø®ØªÙ… Ø§Ù„Ù‚Ø±Ø¢Ù†", page: "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©", fast: "Ø³Ø¬Ù„ Ø§Ù„ØµÙŠØ§Ù…",
                prayers: ["Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ø¸Ù‡Ø±", "Ø§Ù„Ø¹ØµØ±", "Ø§Ù„Ù…ØºØ±Ø¨", "Ø§Ù„Ø¹Ø´Ø§Ø¡"],
                duaA: "Ø°ÙŽÙ‡ÙŽØ¨ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ù…ÙŽØ£Ù ÙˆÙŽØ§Ø¨Ù’ØªÙŽÙ„ÙŽÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù ÙˆÙŽØ«ÙŽØ¨ÙŽØªÙŽ Ø§Ù„Ø£ÙŽØ¬Ù’Ø±Ù Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù",
                duaT: "Ø°Ù‡Ø¨ Ø§Ù„Ø¸Ù…Ø£ ÙˆØ§Ø¨ØªÙ„Øª Ø§Ù„Ø¹Ø±ÙˆÙ‚ ÙˆØ«Ø¨Øª Ø§Ù„Ø£Ø¬Ø± Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡"
            },
            ku: { 
                title: "ðŸŒ™ Ú•Û•Ù…Û•Ø²Ø§Ù†ÛŒ Ù‡Û•ÙˆÙ„ÛŽØ± Ù¢Ù Ù¢Ù¦", dua: "Ø¯ÙˆØ¹Ø§ÛŒ Ú©Ø§Øª", times: "Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙˆÙ„ÛŽØ±", suhoor: "Ú©Û†ØªØ§ÛŒÛŒ Ù¾Ø§Ø´Ø´ÛŽÙˆ", iftar: "Ø¨Û•Ø±Ø¨Ø§Ù†Ú¯ (Ù…Û•ØºØ±ÛŒØ¨)", quran: "Ø®Ø§ØªÙ…Û•ÛŒ Ù‚ÙˆØ±Ø¦Ø§Ù†", page: "Ù„Ø§Ù¾Û•Ú•Û•ÛŒ Ø¦ÛŽØ³ØªØ§", fast: "Ú•Û†Ú˜Ú˜Ù…ÛŽØ±ÛŒ Ú•Û†Ú˜ÙˆÙˆ",
                prayers: ["Ø¨Û•ÛŒØ§Ù†ÛŒ", "Ù†ÛŒÙˆÛ•Ú•Û†", "Ø¹Û•Ø³Ø±", "Ø´ÛŽÙˆØ§Ù†", "Ø®Û•ÙˆØªÙ†Ø§Ù†"],
                duaA: "Ø°ÙŽÙ‡ÙŽØ¨ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ù…ÙŽØ£Ù ÙˆÙŽØ§Ø¨Ù’ØªÙŽÙ„ÙŽÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù ÙˆÙŽØ«ÙŽØ¨ÙŽØªÙŽ Ø§Ù„Ø£ÙŽØ¬Ù’Ø±Ù Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù",
                duaT: "ØªÛŽÙ†ÙˆÛŽØªÛŒ Ø´Ú©Ø§ Ùˆ Ø¯Û•Ù…Ø§Ø±Û•Ú©Ø§Ù† ØªÛ•Ú• Ø¨ÙˆÙˆÙ† Ùˆ Ù¾Ø§Ø¯Ø§Ø´Øª Ø¬ÛŽÚ¯ÛŒØ± Ø¨ÙˆÙˆ Ø¦Û•Ú¯Û•Ø± Ø®ÙˆØ¯Ø§ Ø¨ÛŒÛ•ÙˆÛŽØª."
            }
        };

        function setLang(lang) {
            const t = translations[lang];
            document.getElementById('main-title').innerText = t.title;
            document.getElementById('h-dua').innerText = t.dua;
            document.getElementById('dua-arabic').innerText = t.duaA;
            document.getElementById('dua-translation').innerText = t.duaT;
            document.getElementById('h-times').innerText = t.times;
            document.getElementById('l-suhoor').innerText = t.suhoor;
            document.getElementById('l-iftar').innerText = t.iftar;
            document.getElementById('h-quran').innerText = t.quran;
            document.getElementById('l-page').innerText = t.page;
            document.getElementById('h-fast').innerText = t.fast;
            
            const pNames = document.querySelectorAll('.p-name');
            t.prayers.forEach((p, i) => pNames[i].innerText = p);

            document.body.className = (lang === 'en' ? 'ltr' : 'rtl');
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + lang).classList.add('active');
            localStorage.setItem('ramadan_lang', lang);
        }

        let fastedDays = JSON.parse(localStorage.getItem('ramadan_fasts')) || [];
        function initGrid() {
            const grid = document.getElementById('fastingGrid');
            grid.innerHTML = '';
            for (let i = 1; i <= 30; i++) {
                const div = document.createElement('div');
                div.className = `day-box ${fastedDays.includes(i) ? 'completed' : ''}`;
                div.innerText = i;
                div.onclick = () => {
                    if(fastedDays.includes(i)) fastedDays = fastedDays.filter(d => d !== i);
                    else fastedDays.push(i);
                    localStorage.setItem('ramadan_fasts', JSON.stringify(fastedDays));
                    initGrid();
                };
                grid.appendChild(div);
            }
            document.getElementById('fastingStat').innerText = `${fastedDays.length}/30`;
        }

        function saveData() {
            const page = document.getElementById('curPage').value;
            const checks = Array.from(document.querySelectorAll('.q-chk')).map(c => c.checked);
            localStorage.setItem('ramadan_v3_data', JSON.stringify({page, checks}));
            document.getElementById('qBar').style.width = Math.min((page / 604 * 100), 100) + "%";
        }

        window.onload = () => {
            setLang(localStorage.getItem('ramadan_lang') || 'en');
            const data = JSON.parse(localStorage.getItem('ramadan_v3_data'));
            if(data) {
                document.getElementById('curPage').value = data.page;
                document.querySelectorAll('.q-chk').forEach((c, i) => c.checked = data.checks[i]);
            }
            saveData();
            initGrid();
        };
    </script>
</body>
</html>
